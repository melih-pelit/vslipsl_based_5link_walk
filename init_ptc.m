function [ptc, pBest, pBestPtc, vel] = init_ptc(pNumber, f_reset)

i = 1;
ptc(i,1) = 600;
ptc(i,2) = 400;
ptc(i,3) = 600;
ptc(i,4) = 400;
ptc(i,5) = 600;
ptc(i,6) = 400;
ptc(i,7) = 600;
ptc(i,8) = 400;
ptc(i,9) = 600;
ptc(i,10) = 400;

ptc(2:5,:) = [487.873689561236,751.608521886281,566.820912718710,32.1506192476721,623.202581616022,100.767553134642,110.048438755733,242.409119245368,73.0093722270727,426.477454673802;377.909678264879,787.463764632684,605.985744467329,63.6062761418152,702.418007197888,63.3867072172907,73.3732922913520,274.679598887039,140.893706243193,310.693105703339;342.843957625818,785.252374433506,633.020767326002,100.825183299902,709.543657176515,62.8078061486961,77.8635452858811,265.691183571616,45.2935572301685,329.902340253244;314.355263606801,796.502820464328,638.430043199009,78.0949916408540,669.102069495426,60.9210248682911,88.4537889766789,279.999714068347,55.8497716043567,317.505473734626];
ptc(6:8,:) = [518.610269238597,333.749387963375,596.995769511228,195.870276857562,648.376864595986,76.0910920232088,80.4882456487936,59.8928160110574,191.609201222470,374.049568543307;531.274611412886,489.430087402277,474.941258180320,78.6881542887295,686.354285980738,72.9466292177386,28.5565902620214,37.8356417661376,211.337450506128,533.446812969115;443.836101154875,641.491866493990,485.093856539247,83.8416149259748,706.492462126061,97.9453269488511,48.0824681323022,88.9289153570607,261.633827821071,598.355975749739];
ptc(9:11,:) = [396.322902146885,399.589129905384,435.745970692680,100.301722991207,797.386807192286,71.4229138976021,105.033587763825,85.2183305759326,444.967574432452,485.783621613687;390.119179182852,449.367387273514,400.560376398379,113.990464173125,777.116874296837,70.6419770085690,97.2085472376880,94.9417868076414,441.933470038131,443.843640964374;421.377794621527,387.554174343556,360.422959003449,70.2237053274997,842.095507080419,66.9588917297545,96.5204029048954,75.7917201848147,331.293712840982,429.603323662432];
ptc(12,:) = [1435.81885574565,951.337724176977,1492.95599539484,26.4642975878776,909.683066744617,365.430334167324,138.984883493102,62.7789696680380,311.176694881571,520.448404585323];

if f_reset == 0
    load('pBest\pBestMemo.mat')
    bestVals = pBestMemo(:,1);
    [val, idx] = max(bestVals);
    pBest = val; % initialzie best fitness value ever
    ptc(1,:) = pBestMemo(idx,2:11);
    pBestPtc = ptc(1,:);
    start_random = 2; % randomize starting from the second particle
else
    % if the program was reset
    % delete pbest/pBestMemo.mat
    pBest = 0;
    pBestPtc = zeros(1, 10);
    CoT = 0;
%     step_no = 0;
    time_end = 0;
    trunkAngleDiff = 0;
    VLO_diff = 0;
    gainOverLim = 0;
    max_x_ZMP = 0;
    y_err = 0;
    dx_err = 0;
    pBestMemo = [double(pBest), pBestPtc, time_end, CoT, trunkAngleDiff, VLO_diff, gainOverLim, max_x_ZMP, y_err, dx_err];
    save('pbest\pBestMemo', 'pBestMemo')

    start_random = 1; % randomize starting from the second particle
end

% ptc(1,:) = [648.623352078234,448.623352078234,648.623352078234,448.623352078234,648.623352078234,448.623352078234,648.623352078234,407.383565501036,648.623352078234,448.623352078234]
% ptc(1,:) = [467.750424376442,84.2694097951683,479.549807463305,532.257943469718,736.630181588490,543.909122260781,673.842913987634,168.570649912330,429.985231285396,340.110670057252];
% ptc(1,:) = [443.836101154875,641.491866493990,485.093856539247,83.8416149259748,706.492462126061,97.9453269488511,48.0824681323022,88.9289153570607,261.633827821071,598.355975749739];
% ptc(1,:) = [600,400,600,400,600,400,600,400,600,400];
% % ptc(1,:) = [300,50,300,50,300,50,300,50,300,50];

% ptc(1,:) = [496.935259099399,376.810503459361,390.260592456811,256.881623030674,268.044973588916,91.9948320937959,170.393895186055,164.898332418306,330.878124710505,135.302965170019];
% ptc(1,:) = [835.478816629804,372.604633867115,446.472018785432,549.147250050176,374.912828391861,100.388979132750,60.1056838647404,109.854334293764,310.928708967081,141.932097217051];
ptc(1,:) = [835, 370, 444, 550, 375, 100, 60, 110, 310, 140];

presetPtcSize = size(ptc); % calculate the size of the particles input by the user
% presetPtcSize = 0; % If you want to create all particles randomly
start_random = presetPtcSize(1) + 1; % randomize starting from the second particle

rr = normrnd(0,0.5); % the range of randomness when initializing
for i = start_random:pNumber
    ptc(i,1) = rr*rand()*ptc(1,1); %
    ptc(i,2) = rr*rand()*ptc(1,2); %
    ptc(i,3) = rr*rand()*ptc(1,3); %
    ptc(i,4) = rr*rand()*ptc(1,4); %
    ptc(i,5) = rr*rand()*ptc(1,5);
    ptc(i,6) = rr*rand()*ptc(1,6);
    ptc(i,7) = rr*rand()*ptc(1,7);
    ptc(i,8) = rr*rand()*ptc(1,8);
    ptc(i,9) = rr*rand()*ptc(1,9);
    ptc(i,10) = rr*rand()*ptc(1,10);
end

% creating initial velocities
% vel = 2*rand(size(ptc)).*ptc;
vel = normrnd(0,2)*rand(size(ptc)).*ptc; % gaussion distribution with mean 0 sigma 2